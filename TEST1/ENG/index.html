<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>è‹±èªç¢ºèªãƒ†ã‚¹ãƒˆ</title>
  <style>
    body { font-family: sans-serif; }
    .correct::after { content: " â—¯"; color: green; }
    .incorrect::after { content: " âœ•"; color: red; }
    .answer { font-size: 0.9em; color: blue; display: block; }
    .diff { color: red; text-decoration: underline; }
  </style>
</head>
<body>
  <h1>ğŸ“ è‹±èªç¢ºèªãƒ†ã‚¹ãƒˆï¼ˆå˜èªãƒ»æ–‡ãƒ»ãƒªã‚¹ãƒ‹ãƒ³ã‚°ï¼‰</h1>

  <h2>â‘  æ—¥æœ¬èª â†’ è‹±èªï¼ˆæ–‡ï¼‰</h2>
  <ol>
    <li>ç§ã¯ã‚Šã‚“ã”ãŒå¥½ãã§ã™ â†’ <input id="s1"> <span id="s1a" class="answer"></span></li>
    <li>å½¼ã¯æ±äº¬ã«ä½ã‚“ã§ã„ã¾ã™ â†’ <input id="s2"> <span id="s2a" class="answer"></span></li>
  </ol>

  <h2>â‘¡ è‹±èª â†’ æ—¥æœ¬èªï¼ˆæ–‡ï¼‰</h2>
  <ol>
    <li>I play soccer every day. â†’ <input id="s3"> <span id="s3a" class="answer"></span></li>
    <li>This is my dog. â†’ <input id="s4"> <span id="s4a" class="answer"></span></li>
  </ol>

  <h2>â‘¢ å˜èªã®æ„å‘³ç¢ºèª</h2>
  <ol>
    <li>apple â†’ <input id="s5"> <span id="s5a" class="answer"></span></li>
    <li>school â†’ <input id="s6"> <span id="s6a" class="answer"></span></li>
    <li>book â†’ <input id="s7"> <span id="s7a" class="answer"></span></li>
  </ol>

  <h2>â‘£ ãƒªã‚¹ãƒ‹ãƒ³ã‚°ï¼ˆè‹±æ–‡èª­ä¸Šã’ï¼‰</h2>
  <p>
    <button onclick="speak('My name is Lisa. I have a cat.')">ğŸ”Š å†ç”Ÿ</button>  
    ã“ã®äººç‰©ãŒé£¼ã£ã¦ã„ã‚‹å‹•ç‰©ã¯ï¼Ÿ â†’ <input id="s8"> <span id="s8a" class="answer"></span>
  </p>

  <button onclick="check()">ç­”ãˆåˆã‚ã›</button>

  <script>
    const sentences = [
      ["I like apples.", "s1"], ["He lives in Tokyo.", "s2"],
      ["ç§ã¯æ¯æ—¥ã‚µãƒƒã‚«ãƒ¼ã‚’ã—ã¾ã™", "s3"], ["ã“ã‚Œã¯ç§ã®çŠ¬ã§ã™", "s4"],
      ["ã‚Šã‚“ã”", "s5"], ["å­¦æ ¡", "s6"], ["æœ¬", "s7"],
      ["ã­ã“", "s8"]
    ];

    function check() {
      sentences.forEach(([correct, id]) => {
        const input = document.getElementById(id);
        const out = document.getElementById(id + "a");
        const user = input.value.trim();
        input.className = "";
        out.innerHTML = "";

        if (user.toLowerCase() === correct.toLowerCase()) {
          input.classList.add("correct");
        } else {
          input.classList.add("incorrect");

          if (/^[a-zA-Z\s]+$/.test(correct)) {
            let diff = "";
            for (let i = 0; i < Math.max(user.length, correct.length); i++) {
              diff += user[i] === correct[i]
                ? user[i] || ""
                : `<span class="diff">${user[i] || "_"}</span>`;
            }
            out.innerHTML = `ï¼ˆæ­£è§£ï¼š${correct}ã€ã‚ãªãŸã®ç­”ãˆï¼š${diff}ï¼‰`;
          } else {
            out.textContent = "ï¼ˆæ­£è§£ï¼š" + correct + "ï¼‰";
          }
        }
      });
    }

    function speak(text) {
      const u = new SpeechSynthesisUtterance(text);
      u.lang = "en-US";
      speechSynthesis.speak(u);
    }
  </script>
</body>
</html>